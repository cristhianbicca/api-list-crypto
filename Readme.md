## Simple API developed to be used in some Kubernetes presentations.



 A simple example API using FastAPI to get information from someryptocurrencies through the Mercado Bitcoin.



## Start

#### To build the application:

``` 
git clone https://github.com/cristhianbicca/api-list-crypto.git 
cd api-list-crypto
docker build -t image-name:tag .
docker run -p 80:80 -d image-name:tag 
```

#### Swagger API in http://127.0.0.1/docs or YourIP/docs

Inside kubernetes directory contains files to deploy in kubernetes structure.

## Examples

```
# Request to BTC ticker
http://127.0.0.1/crypto/btc?method=ticker

# Response

{"ticker":{"high":"342489.99999000","low":"323859.93259000","vol":"182.97621432","last":"336289.99964000","buy":"335803.00000000","sell":"336289.99964000","open":"327718.99000000","date":1634396414}}


# Request to BTC ticker
http://127.0.0.1/crypto/btc?method=orderbook

# Response

{"asks":[[336289.99843,0.00257918],[336289.99846,0.00112052],[336386,0.1814],[336444.54,0.25],[336626,0.5943],[336698.61907,0.05],[336899.98957,0.00667853],[336899.99,0.014347],[336900,2.86e-05],[337199.97997,1.6435],[337199.97998,0.00536886],[337199.98,7.011e-05],[337199.99,0.00159007],[337449.98,0.69210386],[337450,0.0034],[248232.13,0.003061],[248000,0.07392064],[247950,0.00723367],[247699.41,0.00052495],[247666.67,0.02],[247600,0.00010318],[247528,0.0089511],[247355,0.009204],[247301.01,0.00028306],[247001,0.014],[247000,0.13002501],[246344.18,0.00094558],[246252.17,0.006304],[246107.63,0.000109],[246100,0.0204618],[245999.99,0.04111971],[245600,0.00138359],[245500,2.2e-05],[245123.56,0.00053666],[245017,0.000388],[245000.94,0.00018],[245000,0.30156866],[244998.88,0.0011],[244891.8664,0.00164],[244643.23,0.012],[244518.6786,0.00027956],[244001,0.00876299],[244000,0.09055688],[243999.99,0.00110196],[243500,0.01589839],[243364.84,0.00182],[243000,0.05969584],[242700.98,0.0017],[242500,0.00109962],[242300,0.00787833],[242257.5,0.00072575],[242132.6,0.01060728],[242001.01,0.02],[242000,0.01352209],[241963.21,0.00061995],[241900,0.00363038],[241870,0.062],[241500,0.007],[241459.94,9.131e-05],[241425,0.000126],[241150,0.0001],[241000,0.03782987],[240999,0.00062069],[240123,0.04018],[240000.88,0.02308874],[240000.8,0.00062443],[240000.08,0.0088888],[240000.02,0.002]],"timestamp":1634396452763333669}


# Request to BTC ticker
http://127.0.0.1/crypto/btc?method=trades

# Response

[{"tid":11991615,"date":1634390682,"type":"buy","price":334676.99995,"amount":0.00149397},{"tid":11991616,"date":1634390686,"type":"buy","price":334699.99,"amount":0.00015612},{"tid":11991617,"date":1634390686,"type":"buy","price":334699.99,"amount":0.00202834},{"tid":11991618,"date":1634390686,"type":"buy","price":334700,"amount":0.00872082},{"tid":11992372,"date":1634394999,"type":"sell","price":337429.99,"amount":0.00015179},{"tid":11992373,"date":1634395021,"type":"sell","price":337430,"amount":0.00026748},{"tid":11992374,"date":1634395022,"type":"buy","price":337681.99997,"amount":0.00014569},{"tid":11992375,"date":1634395043,"type":"buy","price":337682,"amount":0.00015573},{"tid":11992405,"date":1634395271,"type":"buy","price":336970.99997,"amount":9.835e-05},{"tid":11992406,"date":1634395274,"type":"buy","price":336971,"amount":0.00093162},{"tid":11992407,"date":1634395284,"type":"buy","price":337054.99997,"amount":0.00027704},{"tid":11992408,"date":1634395286,"type":"sell","price":336803.01,"amount":0.06220053},{"tid":11992409,"date":1634395286,"type":"sell","price":336803.01,"amount":0.00014845},{"tid":11992410,"date":1634395286,"type":"sell","price":336803.01,"amount":0.00032167},{"tid":11992411,"date":1634395286,"type":"sell","price":336803.01,"amount":0.00069681},{"tid":11992412,"date":1634395286,"type":"sell","price":336803,"amount":0.00543985},{"tid":11992413,"date":1634395286,"type":"sell","price":336803,"amount":0.01158606},{"tid":11992414,"date":1634395286,"type":"sell","price":336803,"amount":0.00148455},{"tid":11992415,"date":1634395286,"type":"sell","price":336803,"amount":0.002},{"tid":11992416,"date":1634395286,"type":"sell","price":336803,"amount":0.00208391},{"tid":11992417,"date":1634395286,"type":"sell","price":336803,"amount":0.01484547},{"tid":11992434,"date":1634395385,"type":"buy","price":337054.99981,"amount":0.00356024},{"tid":11992435,"date":1634395386,"type":"sell","price":336900,"amount":0.00025},{"tid":11992436,"date":1634395386,"type":"buy","price":337054.99997,"amount":0.00072931},{"tid":11992437,"date":1634395396,"type":"buy","price":336900.155,"amount":0.00089047},{"tid":11992438,"date":1634395398,"type":"sell","price":336900,"amount":0.00045},{"tid":11992439,"date":1634395401,"type":"buy","price":336900.155,"amount":0.00062153},{"tid":11992440,"date":1634395401,"type":"buy","price":337055,"amount":0.01261069},{"tid":11992441,"date":1634395403,"type":"buy","price":337054.99997,"amount":0.00111492},{"tid":11992442,"date":1634395408,"type":"buy","price":337054.99997,"amount":0.0219967},{"tid":11992458,"date":1634395509,"type":"sell","price":336500,"amount":0.01349953},{"tid":11992459,"date":1634395515,"type":"buy","price":337190.9998,"amount":0.00014828},{"tid":11992460,"date":1634395518,"type":"sell","price":336500.00001,"amount":0.00023806},{"tid":11992461,"date":1634395530,"type":"sell","price":336500.00011,"amount":0.00146256},{"tid":11992462,"date":1634395549,"type":"sell","price":336500.00011,"amount":2.744e-05},{"tid":11992463,"date":1634395549,"type":"sell","price":336500,"amount":0.00041124},{"tid":11992464,"date":1634395556,"type":"buy","price":336899.99952,"amount":0.00247254},{"tid":11992465,"date":1634395556,"type":"sell","price":336500,"amount":5.367e-05},{"tid":11992466,"date":1634395583,"type":"sell","price":336500.0001,"amount":4.026e-05},{"tid":11992467,"date":1634395588,"type":"sell","price":336500.0002,"amount":0.00036},{"tid":11992468,"date":1634395588,"type":"sell","price":336500.0001,"amount":0.00094974},{"tid":11992469,"date":1634395588,"type":"sell","price":336500,"amount":0.00469026},{"tid":11992607,"date":1634396469,"type":"buy","price":336289.9982,"amount":2.417e-05},{"tid":11992608,"date":1634396494,"type":"sell","price":336289.99,"amount":0.00070127},{"tid":11992609,"date":1634396508,"type":"buy","price":336289.9982,"amount":0.00016292},{"tid":11992610,"date":1634396515,"type":"buy","price":336289.99001,"amount":0.000462},{"tid":11992611,"date":1634396515,"type":"buy","price":336289.9982,"amount":0.00246239},{"tid":11992612,"date":1634396515,"type":"buy","price":336386,"amount":4.921e-05},{"tid":11992613,"date":1634396521,"type":"buy","price":336385.99988,"amount":0.00148638},{"tid":11992614,"date":1634396528,"type":"buy","price":336357.99984,"amount":0.00014865}]


```


